<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>数据处理常用基础操作(清洗、可视化、特征工程)[置顶] | HanKin的博客 | 聪明出于勤奋，天才在于积累。</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="Python,DataFrame,Pandas">
    <meta name="keywords" content="Python,DataFrame,Pandas">
<meta property="og:type" content="article">
<meta property="og:title" content="数据处理常用基础操作(清洗、可视化、特征工程)[置顶]">
<meta property="og:url" content="https://hankin2015.github.io/2222/11/10/22221110DataProcess_HJ/index.html">
<meta property="og:site_name" content="HanKin的博客">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://github.com/HanKin2015/Storage/blob/master/img10.jpg?raw=true">
<meta property="og:updated_time" content="2018-11-26T14:02:25.077Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="数据处理常用基础操作(清洗、可视化、特征工程)[置顶]">
<meta name="twitter:image" content="https://github.com/HanKin2015/Storage/blob/master/img10.jpg?raw=true">
    
        <link rel="alternate" type="application/atom+xml" title="HanKin的博客" href="/atom.xml">
    
    <link rel="shortcut icon" href="/img/favicon-32x32.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">HanKin</h5>
          <a href="mailto:1058198502@qq.com" title="1058198502@qq.com" class="mail">1058198502@qq.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                归档
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                标签
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                分类
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/hankin2015" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://hankin2017.coding.me/"  >
                <i class="icon icon-lg icon-link"></i>
                Coding博客
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://www.zhihu.com/people/he-jian-81/activities" target="_blank" >
                <i class="icon icon-lg icon-知乎"></i>
                知乎
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://weibo.com/1846766142/" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://blog.sina.com.cn/s/articlelist_1846766142_0_1.html" target="_blank" >
                <i class="icon icon-lg icon-新浪博客"></i>
                新浪博客
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://blog.csdn.net/Han_kin" target="_blank" >
                <i class="icon icon-lg icon-CSDN"></i>
                CSDN
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://www.cnblogs.com/hankin2017/" target="_blank" >
                <i class="icon icon-lg icon-博客园"></i>
                博客园
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">数据处理常用基础操作(清洗、可视化、特征工程)[置顶]</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">数据处理常用基础操作(清洗、可视化、特征工程)[置顶]</h1>
        <h5 class="subtitle">
            
                <time datetime="2222-11-10T13:47:41.000Z" itemprop="datePublished" class="page-time">
  2222-11-10
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/机器学习/">机器学习</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#一、数据挖掘之pandas-DataFrame"><span class="post-toc-number">1.</span> <span class="post-toc-text">一、数据挖掘之pandas.DataFrame</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1、jupyter-notebook显示plot图像"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">1、jupyter notebook显示plot图像</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2、处理excel数据"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">2、处理excel数据</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3、处理csv数据"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">3、处理csv数据</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#‘utf-8’-codec-can’t-decode-byte-0xd1-in-position-9-invalid-continuation-byte"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">‘utf-8’ codec can’t decode byte 0xd1 in position 9: invalid continuation byte</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#有中文路径问题"><span class="post-toc-number">1.5.</span> <span class="post-toc-text">有中文路径问题</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#字符串前面添加u-r-b的含义"><span class="post-toc-number">1.6.</span> <span class="post-toc-text">字符串前面添加u,r,b的含义</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4、处理txt数据"><span class="post-toc-number">1.7.</span> <span class="post-toc-text">4、处理txt数据</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5、数据可视化"><span class="post-toc-number">1.8.</span> <span class="post-toc-text">5、数据可视化</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#画函数曲线"><span class="post-toc-number">1.8.1.</span> <span class="post-toc-text">画函数曲线</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#6、dataframe增加一行数据或者一列数据"><span class="post-toc-number">1.9.</span> <span class="post-toc-text">6、dataframe增加一行数据或者一列数据</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#增加一行"><span class="post-toc-number">1.9.1.</span> <span class="post-toc-text">增加一行</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#7、排序"><span class="post-toc-number">1.10.</span> <span class="post-toc-text">7、排序</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#8、输出格式"><span class="post-toc-number">1.11.</span> <span class="post-toc-text">8、输出格式</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#9、基本操作"><span class="post-toc-number">1.12.</span> <span class="post-toc-text">9、基本操作</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#创建DataFrame对象"><span class="post-toc-number">1.12.1.</span> <span class="post-toc-text">创建DataFrame对象</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#根据索引查看数据"><span class="post-toc-number">1.12.2.</span> <span class="post-toc-text">根据索引查看数据</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#对每个元素乘以２"><span class="post-toc-number">1.12.3.</span> <span class="post-toc-text">对每个元素乘以２</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#对每个元素求平方-支持ndarray一样的向量化操作"><span class="post-toc-number">1.12.4.</span> <span class="post-toc-text">对每个元素求平方(支持ndarray一样的向量化操作)</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#默认合并之接受索引已经存在的值"><span class="post-toc-number">1.12.5.</span> <span class="post-toc-text">默认合并之接受索引已经存在的值</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#对DataFrame对象进行列扩充"><span class="post-toc-number">1.12.6.</span> <span class="post-toc-text">对DataFrame对象进行列扩充</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#字段类型转换"><span class="post-toc-number">1.12.7.</span> <span class="post-toc-text">字段类型转换</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#10、连接合并多个dataframe"><span class="post-toc-number">1.13.</span> <span class="post-toc-text">10、连接合并多个dataframe</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#11、增删改查"><span class="post-toc-number">1.14.</span> <span class="post-toc-text">11、增删改查</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#二、基础的特征工程"><span class="post-toc-number">2.</span> <span class="post-toc-text">二、基础的特征工程</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1、查看数据类型和一些值"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">1、查看数据类型和一些值</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2、查看是否有缺失值"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">2、查看是否有缺失值</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3、良-恶性乳腺癌肿瘤预测实例"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">3、良/恶性乳腺癌肿瘤预测实例</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4、召回率、精确率和F1值"><span class="post-toc-number">2.4.</span> <span class="post-toc-text">4、召回率、精确率和F1值</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5、sklearn-model-selection-train-test-split随机划分训练集和测试集"><span class="post-toc-number">2.5.</span> <span class="post-toc-text">5、sklearn.model_selection.train_test_split随机划分训练集和测试集</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#三、实例篇"><span class="post-toc-number">3.</span> <span class="post-toc-text">三、实例篇</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1、生成数据并保存读取"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">1、生成数据并保存读取</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#四、附录"><span class="post-toc-number">4.</span> <span class="post-toc-text">四、附录</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#去除警告"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">去除警告</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#忽略命令行下警告错误的输出"><span class="post-toc-number">4.1.1.</span> <span class="post-toc-text">忽略命令行下警告错误的输出</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#enumerate"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">enumerate</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#补充"><span class="post-toc-number">4.2.1.</span> <span class="post-toc-text">补充</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#python-字符串查找的4个方法"><span class="post-toc-number">4.3.</span> <span class="post-toc-text">python 字符串查找的4个方法</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-find-方法：查找子字符串，若找到返回从0开始的下标值，若找不到返回-1"><span class="post-toc-number">4.3.1.</span> <span class="post-toc-text">1 find()方法：查找子字符串，若找到返回从0开始的下标值，若找不到返回-1</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-index-方法："><span class="post-toc-number">4.3.2.</span> <span class="post-toc-text">2 index()方法：</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-4-rfind和rindex方法用法和上面一样，只是从字符串的末尾开始查找。"><span class="post-toc-number">4.3.3.</span> <span class="post-toc-text">3 4 rfind和rindex方法用法和上面一样，只是从字符串的末尾开始查找。</span></a></li></ol></li></ol></li></ol>
        </nav>
    </aside>


<article id="[default_layout]-22221110DataProcess_HJ"
  class="post-article article-type-[default_layout] fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">数据处理常用基础操作(清洗、可视化、特征工程)[置顶]</h1>
        <div class="post-meta">
            <time class="post-time" title="2222-11-10 21:47:41" datetime="2222-11-10T13:47:41.000Z"  itemprop="datePublished">2222-11-10</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/机器学习/">机器学习</a></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://github.com/HanKin2015/Storage/blob/master/img10.jpg?raw=true" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
<a id="more"></a>
<h1 id="一、数据挖掘之pandas-DataFrame"><a href="#一、数据挖掘之pandas-DataFrame" class="headerlink" title="一、数据挖掘之pandas.DataFrame"></a>一、数据挖掘之pandas.DataFrame</h1><p><a href="http://www.jianshu.com/p/682c24aef525" target="_blank" rel="noopener">用python做数据分析4|pandas库介绍之DataFrame基本操作</a><br><a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html" target="_blank" rel="noopener">官方文档</a><br><a href="http://old.sebug.net/paper/books/scipydoc/index.html#" target="_blank" rel="noopener">用Python做科学计算</a></p>
<p>数据地址：github.com<br>源代码地址：github.com</p>
<h2 id="1、jupyter-notebook显示plot图像"><a href="#1、jupyter-notebook显示plot图像" class="headerlink" title="1、jupyter notebook显示plot图像"></a>1、jupyter notebook显示plot图像</h2><blockquote>
<p>%matplotlib inline</p>
</blockquote>
<h2 id="2、处理excel数据"><a href="#2、处理excel数据" class="headerlink" title="2、处理excel数据"></a>2、处理excel数据</h2><p>后缀为xls或者xlsx</p>
<blockquote>
<p>import pandas as pd<br>data.to_excel(‘data.xlsx’, index=False)</p>
</blockquote>
<h2 id="3、处理csv数据"><a href="#3、处理csv数据" class="headerlink" title="3、处理csv数据"></a>3、处理csv数据</h2><blockquote>
<p>import pandas as pd<br>df_data = pd.read_csv(‘./data.csv’, sep=’\t’)  #按照相应的间隔符读取数据，默认空格或者tab符</p>
</blockquote>
<h2 id="‘utf-8’-codec-can’t-decode-byte-0xd1-in-position-9-invalid-continuation-byte"><a href="#‘utf-8’-codec-can’t-decode-byte-0xd1-in-position-9-invalid-continuation-byte" class="headerlink" title="‘utf-8’ codec can’t decode byte 0xd1 in position 9: invalid continuation byte"></a>‘utf-8’ codec can’t decode byte 0xd1 in position 9: invalid continuation byte</h2><p>意思是utf-8编码不行，需要其他类型编码格式，默认应该是utf-8或者None。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data = pd.read_csv(&apos;air_tianjin_2017.csv&apos;, engine=&apos;python&apos;, encoding=&apos;gbk&apos;)</span><br></pre></td></tr></table></figure></p>
<h2 id="有中文路径问题"><a href="#有中文路径问题" class="headerlink" title="有中文路径问题"></a>有中文路径问题</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">path = &apos;文件/data数据.csv&apos;</span><br><span class="line">path = unicode(path, &apos;utf8&apos;)</span><br><span class="line"></span><br><span class="line">pd.read_csv( &apos;文件/data数据.csv&apos;, &apos;rb&apos;)</span><br><span class="line"></span><br><span class="line">file = open(path)</span><br><span class="line">pd.read_csv(file)</span><br></pre></td></tr></table></figure>
<h2 id="字符串前面添加u-r-b的含义"><a href="#字符串前面添加u-r-b的含义" class="headerlink" title="字符串前面添加u,r,b的含义"></a>字符串前面添加u,r,b的含义</h2><p>u/U:表示unicode字符串<br>不是仅仅是针对中文, 可以针对任何的字符串，代表是对字符串进行unicode编码。<br>一般英文字符在使用各种编码下, 基本都可以正常解析, 所以一般不带u；但是中文, 必须表明所需编码, 否则一旦编码转换就会出现乱码。<br>建议所有编码方式采用utf8</p>
<p>r/R:非转义的原始字符串<br>与普通字符相比，其他相对特殊的字符，其中可能包含转义字符，即那些，反斜杠加上对应字母，表示对应的特殊含义的，比如最常见的”\n”表示换行，”\t”表示Tab等。而如果是以r开头，那么说明后面的字符，都是普通的字符了，即如果是“\n”那么表示一个反斜杠字符，一个字母n，而不是表示换行了。<br>以r开头的字符，常用于正则表达式，对应着re模块。</p>
<p>b:bytes<br>python3.x里默认的str是(py2.x里的)unicode, bytes是(py2.x)的str, b”“前缀代表的就是bytes<br>python2.x里, b前缀没什么具体意义， 只是为了兼容python3.x的这种写法</p>
<h2 id="4、处理txt数据"><a href="#4、处理txt数据" class="headerlink" title="4、处理txt数据"></a>4、处理txt数据</h2><blockquote>
<p>import pandas as pd<br>df_data = pd.read_table(‘./data.txt’)<br>data.to_csv(‘data.txt’, sep=’\t’, index=False)</p>
</blockquote>
<h2 id="5、数据可视化"><a href="#5、数据可视化" class="headerlink" title="5、数据可视化"></a>5、数据可视化</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">%matplotlib inline</span><br><span class="line"></span><br><span class="line"><span class="comment">#marker为形状、s为形状大小，线条没有，c为颜色，也可以写全称size、color</span></span><br><span class="line"><span class="comment">#scatter为散点图、plot为折线图</span></span><br><span class="line"></span><br><span class="line">plt.scatter(x轴数据, y轴数据, marker = <span class="string">'o'</span>, s=<span class="number">200</span>, c=<span class="string">'red'</span>, label=标签名) </span><br><span class="line">plt.plot(x轴数据, y轴数据, marker = <span class="string">'x'</span>, c=<span class="string">'black'</span>, label=<span class="string">'Comprehensive'</span>)</span><br><span class="line">plt.legend()  <span class="comment"># 让图例生效</span></span><br><span class="line"></span><br><span class="line">plt.xlabel(x轴名称)</span><br><span class="line">plt.ylabel(y轴名称)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">def scatter(X, Y):</span><br><span class="line">    #产生测试数据  </span><br><span class="line">    x = np.arange(1,10)  </span><br><span class="line">    y = x  </span><br><span class="line">    fig = plt.figure()  </span><br><span class="line">    ax = fig.add_subplot(111)   # 设置子图</span><br><span class="line">    #设置标题  </span><br><span class="line">    ax.set_title(&apos;Scatter Plot&apos;)  </span><br><span class="line">    #设置X轴标签  </span><br><span class="line">    plt.xlabel(&apos;X&apos;)  </span><br><span class="line">    #设置Y轴标签  </span><br><span class="line">    plt.ylabel(&apos;Y&apos;)  </span><br><span class="line">    #添加批注</span><br><span class="line">    for i in range(4):    # xy表示批注点位置，xxtext表示批注文字位置，arrowprops加箭头</span><br><span class="line">        ax.annotate(Y[i],xy=(X[i,0],X[i,1]), xytext=(X[i,0],X[i,1]), arrowprops=dict(facecolor=&apos;black&apos;, shrink=0.05))</span><br><span class="line">    #画散点图  </span><br><span class="line">    ax.scatter(X[:,0],X[:,1],s = 75,c = &apos;r&apos;,marker = &apos;o&apos;,alpha=.5)  </span><br><span class="line">    #设置图标  </span><br><span class="line">    plt.legend(&apos;X&apos;)  </span><br><span class="line">    #显示所画的图  </span><br><span class="line">    plt.show()</span><br></pre></td></tr></table></figure>
<h3 id="画函数曲线"><a href="#画函数曲线" class="headerlink" title="画函数曲线"></a>画函数曲线</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line"></span><br><span class="line">x = np.arange(0, 12)</span><br><span class="line">y1 = 2 * x + 5   #直线函数</span><br><span class="line">y2 = x ** 2 + 5  #曲线函数</span><br><span class="line"></span><br><span class="line">plt.plot(x, y1, c=&apos;yellow&apos;)</span><br><span class="line">plt.plot(x, y2, c=&apos;red&apos;)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<h2 id="6、dataframe增加一行数据或者一列数据"><a href="#6、dataframe增加一行数据或者一列数据" class="headerlink" title="6、dataframe增加一行数据或者一列数据"></a>6、dataframe增加一行数据或者一列数据</h2><h3 id="增加一行"><a href="#增加一行" class="headerlink" title="增加一行"></a>增加一行</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(columns=[&apos;name&apos;,&apos;sex&apos;,&apos;age&apos;, &apos;other&apos;])</span><br><span class="line"># 方法1(必须加列名)  居然无效???</span><br><span class="line">df.append(&#123;&apos;name&apos;: &apos;hejian&apos;, &apos;sex&apos;: &apos;man&apos;, &apos;age&apos;: 24, &apos;other&apos;: &apos;handsome&apos;&#125;, ignore_index=True, verify_integrity=False)</span><br><span class="line"></span><br><span class="line">#方法2</span><br><span class="line">df.loc[2] = [&apos;hejian&apos;,  &apos;man&apos;,  24, &apos;handsome&apos;]</span><br></pre></td></tr></table></figure>
<h2 id="7、排序"><a href="#7、排序" class="headerlink" title="7、排序"></a>7、排序</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sorted([5, 2, 3, 1, 4])</span><br><span class="line">a = [5, 2, 3, 1, 4]</span><br><span class="line">a.sort()</span><br><span class="line"></span><br><span class="line">sorted(res, key = lambda x:x[0])</span><br><span class="line">df.sort_values(by=)</span><br></pre></td></tr></table></figure>
<h2 id="8、输出格式"><a href="#8、输出格式" class="headerlink" title="8、输出格式"></a>8、输出格式</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ans = [1, 2, 3, 4]</span><br><span class="line">res = []</span><br><span class="line">for elem in ans:</span><br><span class="line">    res.append(str(elem))</span><br><span class="line">print(&apos; &apos;.join(res))  #按照空格间隔输出</span><br><span class="line">print(&apos;*&apos;.join(res))  #按照星号间隔输出</span><br></pre></td></tr></table></figure>
<h2 id="9、基本操作"><a href="#9、基本操作" class="headerlink" title="9、基本操作"></a>9、基本操作</h2><h3 id="创建DataFrame对象"><a href="#创建DataFrame对象" class="headerlink" title="创建DataFrame对象"></a>创建DataFrame对象</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(np.random.randint(0,10,(4, 3)), columns=list(&apos;bde&apos;), index=range(4))</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame([1, 2, 3, 4, 5], columns=[&apos;cols&apos;], index=[&apos;a&apos;,&apos;b&apos;,&apos;c&apos;,&apos;d&apos;,&apos;e&apos;])</span><br><span class="line">df.index</span><br><span class="line">df.columns</span><br><span class="line">df = pd.DataFrame(np.random.randint(low=0, high=10, size=(5, 5)), columns=[&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;, &apos;e&apos;])</span><br><span class="line">df = pd.DataFrame(data=d, dtype=np.int8)</span><br><span class="line">df = pd.DataFrame(&#123;&apos;x&apos;:x, &apos;y&apos;:y&#125;, columns=[&apos;x&apos;, &apos;y&apos;])</span><br></pre></td></tr></table></figure>
<h3 id="根据索引查看数据"><a href="#根据索引查看数据" class="headerlink" title="根据索引查看数据"></a>根据索引查看数据</h3><blockquote>
<p>df.loc[‘a’]   # 索引为ａ这一行的数据<br>df.iloc[0]      #跟上面的操作等价，一个是根据索引名，一个是根据数字索引访问数据</p>
</blockquote>
<h3 id="对每个元素乘以２"><a href="#对每个元素乘以２" class="headerlink" title="对每个元素乘以２"></a>对每个元素乘以２</h3><blockquote>
<p>print df.apply(lambda x:x*2)</p>
</blockquote>
<h3 id="对每个元素求平方-支持ndarray一样的向量化操作"><a href="#对每个元素求平方-支持ndarray一样的向量化操作" class="headerlink" title="对每个元素求平方(支持ndarray一样的向量化操作)"></a>对每个元素求平方(支持ndarray一样的向量化操作)</h3><blockquote>
<p>print df**2</p>
</blockquote>
<h3 id="默认合并之接受索引已经存在的值"><a href="#默认合并之接受索引已经存在的值" class="headerlink" title="默认合并之接受索引已经存在的值"></a>默认合并之接受索引已经存在的值</h3><p>通过指定参数 how，指定合并的方式：inner(交集)、outer(并集)</p>
<blockquote>
<p>print dfb.join(df_a,how=’inner’)   # 合并两个DataFrame对象的交集</p>
</blockquote>
<h3 id="对DataFrame对象进行列扩充"><a href="#对DataFrame对象进行列扩充" class="headerlink" title="对DataFrame对象进行列扩充"></a>对DataFrame对象进行列扩充</h3><blockquote>
<p>df[‘col4’] = [‘cnn’,’rnn’]      #直接添加一列数据</p>
</blockquote>
<h3 id="字段类型转换"><a href="#字段类型转换" class="headerlink" title="字段类型转换"></a>字段类型转换</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">arr = np.array([1, 2, 3])</span><br><span class="line">print(type(arr))</span><br><span class="line">print(arr.dtype)</span><br><span class="line">brr = arr.astype(np.float64)</span><br><span class="line">print(type(brr))</span><br><span class="line">print(brr.dtype)</span><br><span class="line">print(arr)</span><br><span class="line">print(brr)</span><br><span class="line">crr = arr.astype(str)</span><br><span class="line">print(type(crr))</span><br><span class="line">print(crr.dtype)</span><br><span class="line">crr</span><br></pre></td></tr></table></figure>
<h2 id="10、连接合并多个dataframe"><a href="#10、连接合并多个dataframe" class="headerlink" title="10、连接合并多个dataframe"></a>10、连接合并多个dataframe</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df = df1.append(df2, ignore_index=True)  # 需要重新index</span><br><span class="line">df</span><br><span class="line">`</span><br></pre></td></tr></table></figure>
<h2 id="11、增删改查"><a href="#11、增删改查" class="headerlink" title="11、增删改查"></a>11、增删改查</h2><p><a href="">基本操作</a></p>
<h1 id="二、基础的特征工程"><a href="#二、基础的特征工程" class="headerlink" title="二、基础的特征工程"></a>二、基础的特征工程</h1><h2 id="1、查看数据类型和一些值"><a href="#1、查看数据类型和一些值" class="headerlink" title="1、查看数据类型和一些值"></a>1、查看数据类型和一些值</h2><blockquote>
<p>df.info()<br>df.describe()</p>
<h2 id="2、查看是否有缺失值"><a href="#2、查看是否有缺失值" class="headerlink" title="2、查看是否有缺失值"></a>2、查看是否有缺失值</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">isnull</span><br><span class="line">isna</span><br><span class="line">isin(values)</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="3、良-恶性乳腺癌肿瘤预测实例"><a href="#3、良-恶性乳腺癌肿瘤预测实例" class="headerlink" title="3、良/恶性乳腺癌肿瘤预测实例"></a>3、良/恶性乳腺癌肿瘤预测实例</h2><p><a href="">ipython notebook分析</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"># 创建特征列表。</span><br><span class="line">column_names = [&apos;Sample code number&apos;, &apos;Clump Thickness&apos;, &apos;Uniformity of Cell Size&apos;, &apos;Uniformity of Cell Shape&apos;, &apos;Marginal Adhesion&apos;, &apos;Single Epithelial Cell Size&apos;, &apos;Bare Nuclei&apos;, &apos;Bland Chromatin&apos;, &apos;Normal Nucleoli&apos;, &apos;Mitoses&apos;, &apos;Class&apos;]</span><br><span class="line"></span><br><span class="line"># 使用pandas.read_csv函数从互联网读取指定数据。</span><br><span class="line">data = pd.read_csv(&apos;https://archive.ics.uci.edu/ml/machine-learning-databases/breast-cancer-wisconsin/breast-cancer-wisconsin.data&apos;, names = column_names )</span><br><span class="line"></span><br><span class="line"># 将?替换为标准缺失值表示。</span><br><span class="line">data = data.replace(to_replace=&apos;?&apos;, value=np.nan)</span><br><span class="line"># 丢弃带有缺失值的数据（只要有一个维度有缺失）。</span><br><span class="line">data = data.dropna(how=&apos;any&apos;)</span><br><span class="line"></span><br><span class="line"># 输出data的数据量和维度。</span><br><span class="line">data.shape</span><br><span class="line"></span><br><span class="line"># 使用sklearn.cross_valiation里的train_test_split模块用于分割数据。</span><br><span class="line">from sklearn.cross_validation import train_test_split</span><br><span class="line"></span><br><span class="line"># 随机采样25%的数据用于测试，剩下的75%用于构建训练集合。</span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(data[column_names[1:10]], data[column_names[10]], test_size=0.25, random_state=33)</span><br><span class="line"></span><br><span class="line"># 查验训练样本的数量和类别分布。</span><br><span class="line">y_train.value_counts()</span><br><span class="line"></span><br><span class="line"># 查验测试样本的数量和类别分布。</span><br><span class="line">y_test.value_counts()</span><br><span class="line"></span><br><span class="line"># 从sklearn.preprocessing里导入StandardScaler。</span><br><span class="line">from sklearn.preprocessing import StandardScaler</span><br><span class="line"># 从sklearn.linear_model里导入LogisticRegression与SGDClassifier。</span><br><span class="line">from sklearn.linear_model import LogisticRegression</span><br><span class="line">from sklearn.linear_model import SGDClassifier</span><br><span class="line"></span><br><span class="line"># 标准化数据，保证每个维度的特征数据方差为1，均值为0。使得预测结果不会被某些维度过大的特征值而主导。</span><br><span class="line">ss = StandardScaler()</span><br><span class="line">X_train = ss.fit_transform(X_train)</span><br><span class="line">X_test = ss.transform(X_test)</span><br><span class="line"></span><br><span class="line"># 初始化LogisticRegression与SGDClassifier。</span><br><span class="line">lr = LogisticRegression()</span><br><span class="line">sgdc = SGDClassifier()</span><br><span class="line"></span><br><span class="line"># 调用LogisticRegression中的fit函数/模块用来训练模型参数。</span><br><span class="line">lr.fit(X_train, y_train)</span><br><span class="line"># 使用训练好的模型lr对X_test进行预测，结果储存在变量lr_y_predict中。</span><br><span class="line">lr_y_predict = lr.predict(X_test)</span><br><span class="line"></span><br><span class="line"># 调用SGDClassifier中的fit函数/模块用来训练模型参数。</span><br><span class="line">sgdc.fit(X_train, y_train)</span><br><span class="line"># 使用训练好的模型sgdc对X_test进行预测，结果储存在变量sgdc_y_predict中。</span><br><span class="line">sgdc_y_predict = sgdc.predict(X_test)</span><br><span class="line"></span><br><span class="line"># 从sklearn.metrics里导入classification_report模块。</span><br><span class="line">from sklearn.metrics import classification_report</span><br><span class="line"></span><br><span class="line"># 使用逻辑斯蒂回归模型自带的评分函数score获得模型在测试集上的准确性结果。</span><br><span class="line">print &apos;Accuracy of LR Classifier:&apos;, lr.score(X_test, y_test)</span><br><span class="line"># 利用classification_report模块获得LogisticRegression其他三个指标的结果。</span><br><span class="line">print classification_report(y_test, lr_y_predict, target_names=[&apos;Benign&apos;, &apos;Malignant&apos;])</span><br><span class="line"></span><br><span class="line"> # 使用随机梯度下降模型自带的评分函数score获得模型在测试集上的准确性结果。</span><br><span class="line">print &apos;Accuarcy of SGD Classifier:&apos;, sgdc.score(X_test, y_test)</span><br><span class="line"># 利用classification_report模块获得SGDClassifier其他三个指标的结果。</span><br><span class="line">print classification_report(y_test, sgdc_y_predict, target_names=[&apos;Benign&apos;, &apos;Malignant&apos;])</span><br></pre></td></tr></table></figure></p>
<h2 id="4、召回率、精确率和F1值"><a href="#4、召回率、精确率和F1值" class="headerlink" title="4、召回率、精确率和F1值"></a>4、召回率、精确率和F1值</h2><p>假设我们手上有60个正样本，40个负样本，我们要找出所有的正样本，系统查找出50个，其中只有40个是真正的正样本，计算上述各指标。</p>
<p>TP: 将正类预测为正类数  40<br>FN: 将正类预测为负类数  20<br>FP: 将负类预测为正类数  10<br>TN: 将负类预测为负类数  30</p>
<p>准确率(accuracy) = 预测对的/所有 = (TP+TN)/(TP+FN+FP+TN) = 70%<br>精确率(precision) = TP/(TP+FP) = 80%<br>召回率(recall) = TP/(TP+FN) = 2/3<br>F值  = 正确率 <em> 召回率 </em> 2 / (正确率 + 召回率) （F 值即为正确率和召回率的调和平均值）<br>白话：精确率就是在所有预测为正例中有多少是预测正确的，召回率就是在全部本身就是正样本中有多少预测正确。</p>
<h2 id="5、sklearn-model-selection-train-test-split随机划分训练集和测试集"><a href="#5、sklearn-model-selection-train-test-split随机划分训练集和测试集" class="headerlink" title="5、sklearn.model_selection.train_test_split随机划分训练集和测试集"></a>5、sklearn.model_selection.train_test_split随机划分训练集和测试集</h2><p>train_test_split是交叉验证中常用的函数，功能是从样本中随机的按比例选取train data和testdata，形式为：</p>
<blockquote>
<p>X_train,X_test, y_train, y_test =<br>cross_validation.train_test_split(train_data,train_target,test_size=0.4, random_state=0)</p>
</blockquote>
<p>参数解释：<br>train_data：所要划分的样本特征集<br>train_target：所要划分的样本结果<br>test_size：样本占比，如果是整数的话就是样本的数量<br>random_state：是随机数的种子。</p>
<p>随机数种子：其实就是该组随机数的编号，在需要重复试验的时候，保证得到一组一样的随机数。比如你每次都填1，其他参数一样的情况下你得到的随机数组是一样的。但填0或不填，每次都会不一样。<br>随机数的产生取决于种子，随机数和种子之间的关系遵从以下两个规则：<br>种子不同，产生不同的随机数；种子相同，即使实例不同也产生相同的随机数。</p>
<h1 id="三、实例篇"><a href="#三、实例篇" class="headerlink" title="三、实例篇"></a>三、实例篇</h1><p>数据文件：data.csv   data.txt  data.xlsx<br>数据内容(高中成绩)：</p>
<table>
<thead>
<tr>
<th style="text-align:center">Date</th>
<th style="text-align:center">Chinese</th>
<th style="text-align:center">Math</th>
<th style="text-align:center">English</th>
<th style="text-align:center">Comprehensive </th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">111</td>
<td style="text-align:center">130</td>
<td style="text-align:center">127</td>
<td style="text-align:center">269    </td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center"></td>
<td style="text-align:center">159</td>
<td style="text-align:center">ok</td>
<td style="text-align:center">191</td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center">137</td>
<td style="text-align:center">119</td>
<td style="text-align:center">99</td>
<td style="text-align:center">250</td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">97</td>
<td style="text-align:center">149</td>
<td style="text-align:center">89</td>
<td style="text-align:center">235</td>
</tr>
<tr>
<td style="text-align:center">11</td>
<td style="text-align:center">120</td>
<td style="text-align:center">135</td>
<td style="text-align:center">116</td>
<td style="text-align:center">282 </td>
</tr>
</tbody>
</table>
<h2 id="1、生成数据并保存读取"><a href="#1、生成数据并保存读取" class="headerlink" title="1、生成数据并保存读取"></a>1、生成数据并保存读取</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line"></span><br><span class="line">if __name__==&apos;__main__&apos;:</span><br><span class="line">    data = pd.DataFrame(columns=[&apos;Date&apos;,&apos;Chinese&apos;,&apos;Math&apos;, &apos;English&apos;, &apos;Comprehensive&apos;])</span><br><span class="line">    data.loc[0] = [7,  111, 130, 127, 269]</span><br><span class="line">    data.loc[1] = [8,  &apos;&apos;, 159, &apos;ok&apos;, 191]</span><br><span class="line">    data.loc[2] = [9, 137, 119, 99, 250]</span><br><span class="line">    data.loc[3] = [10, 97, 149, 89, 235]</span><br><span class="line">    data.loc[4] = [11, 120, 135, 116, 282]</span><br><span class="line"></span><br><span class="line">    data.to_csv(&apos;&apos;)</span><br></pre></td></tr></table></figure>
<h1 id="四、附录"><a href="#四、附录" class="headerlink" title="四、附录"></a>四、附录</h1><h2 id="去除警告"><a href="#去除警告" class="headerlink" title="去除警告"></a>去除警告</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import warnings</span><br><span class="line">warnings.filterwarnings(&quot;ignore&quot;)</span><br><span class="line"></span><br><span class="line">def ignore_warn(*arg, *swarg):</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">warning.warn = ignore_warn</span><br></pre></td></tr></table></figure>
<h3 id="忽略命令行下警告错误的输出"><a href="#忽略命令行下警告错误的输出" class="headerlink" title="忽略命令行下警告错误的输出"></a>忽略命令行下警告错误的输出</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python -W ignore yourscript.py</span><br><span class="line">with open as [for   ]</span><br></pre></td></tr></table></figure>
<h2 id="enumerate"><a href="#enumerate" class="headerlink" title="enumerate"></a>enumerate</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">如果对一个列表，既要遍历索引又要遍历元素时，首先可以这样写：</span><br><span class="line">list1 = [&quot;这&quot;, &quot;是&quot;, &quot;一个&quot;, &quot;测试&quot;]</span><br><span class="line">for i in range (len(list1)):</span><br><span class="line">    print i ,list1[i]</span><br><span class="line"></span><br><span class="line">上述方法有些累赘，利用enumerate()会更加直接和优美：</span><br><span class="line">list1 = [&quot;这&quot;, &quot;是&quot;, &quot;一个&quot;, &quot;测试&quot;]</span><br><span class="line">for index, item in enumerate(list1):</span><br><span class="line">    print index, item</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line">0 这</span><br><span class="line">1 是</span><br><span class="line">2 一个</span><br><span class="line">3 测试</span><br><span class="line"></span><br><span class="line">enumerate还可以接收第二个参数，用于指定索引起始值，如：</span><br><span class="line">list1 = [&quot;这&quot;, &quot;是&quot;, &quot;一个&quot;, &quot;测试&quot;]</span><br><span class="line">for index, item in enumerate(list1, 1):</span><br><span class="line">    print index, item</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line">1 这</span><br><span class="line">2 是</span><br><span class="line">3 一个</span><br><span class="line">4 测试</span><br></pre></td></tr></table></figure>
<h3 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h3><p>如果要统计文件的行数，可以这样写：</p>
<blockquote>
<p>count = len(open(filepath, ‘r’).readlines())<br>这种方法简单，但是可能比较慢，当文件比较大时甚至不能工作。</p>
</blockquote>
<p>可以利用enumerate()：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">count = 0</span><br><span class="line">for index, line in enumerate(open(filepath,&apos;r&apos;))： </span><br><span class="line">    count += 1</span><br></pre></td></tr></table></figure></p>
<h2 id="python-字符串查找的4个方法"><a href="#python-字符串查找的4个方法" class="headerlink" title="python 字符串查找的4个方法"></a>python 字符串查找的4个方法</h2><h3 id="1-find-方法：查找子字符串，若找到返回从0开始的下标值，若找不到返回-1"><a href="#1-find-方法：查找子字符串，若找到返回从0开始的下标值，若找不到返回-1" class="headerlink" title="1 find()方法：查找子字符串，若找到返回从0开始的下标值，若找不到返回-1"></a>1 find()方法：查找子字符串，若找到返回从0开始的下标值，若找不到返回-1</h3><p>info = ‘abca’<br>print info.find(‘a’)##从下标0开始，查找在字符串里第一个出现的子串，返回结果：0</p>
<p>info = ‘abca’<br>print info.find(‘a’,1)##从下标1开始，查找在字符串里第一个出现的子串：返回结果3</p>
<p>info = ‘abca’<br>print info.find(‘333’)##返回-1,查找不到返回-1</p>
<h3 id="2-index-方法："><a href="#2-index-方法：" class="headerlink" title="2 index()方法："></a>2 index()方法：</h3><p>python 的index方法是在字符串里查找子串第一次出现的位置，类似字符串的find方法，不过比find方法更好的是，如果查找不到子串，会抛出异常，而不是返回-1</p>
<p>info = ‘abca’<br>print info.index(‘a’)<br>print info.index(‘33’)</p>
<h3 id="3-4-rfind和rindex方法用法和上面一样，只是从字符串的末尾开始查找。"><a href="#3-4-rfind和rindex方法用法和上面一样，只是从字符串的末尾开始查找。" class="headerlink" title="3 4 rfind和rindex方法用法和上面一样，只是从字符串的末尾开始查找。"></a>3 4 rfind和rindex方法用法和上面一样，只是从字符串的末尾开始查找。</h3><p>如果查找全部，可以先找到第一个，然后从当前为起点继续查找。另外一种方法就是正则表达式。</p>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2018-11-26T14:02:25.077Z" itemprop="dateUpdated">2018-11-26 22:02:25</time>
</span><br>


        
        本文链接：<a href="/2222/11/10/22221110DataProcess_HJ/" target="_blank" rel="external">https://hankin2015.github.io/2222/11/10/22221110DataProcess_HJ/</a></br>版权声明： 本站所有文章除特别声明外，均采用 CC BY-NC-SA 3.0 许可协议。转载请注明出处！
        
    </div>
    
    <footer>
        <a href="https://hankin2015.github.io">
            <img src="/img/avatar.jpg" alt="HanKin">
            HanKin
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DataFrame/">DataFrame</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Pandas/">Pandas</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://hankin2015.github.io/2222/11/10/22221110DataProcess_HJ/&title=《数据处理常用基础操作(清洗、可视化、特征工程)[置顶]》 — HanKin的博客&pic=https://hankin2015.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://hankin2015.github.io/2222/11/10/22221110DataProcess_HJ/&title=《数据处理常用基础操作(清洗、可视化、特征工程)[置顶]》 — HanKin的博客&source=
                
                    
                    
                
..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://hankin2015.github.io/2222/11/10/22221110DataProcess_HJ/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《数据处理常用基础操作(清洗、可视化、特征工程)[置顶]》 — HanKin的博客&url=https://hankin2015.github.io/2222/11/10/22221110DataProcess_HJ/&via=https://hankin2015.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://hankin2015.github.io/2222/11/10/22221110DataProcess_HJ/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between flex-row-reverse">
  

  
    <div class="waves-block waves-effect next">
      <a href="/2222/04/24/22220424Algorithm_HJ/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">数据结构和算法总结[置顶]</h4>
      </a>
    </div>
  
</nav>



    











    <!-- Valine Comments -->
    <div class="comments vcomment" id="comments"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script>
    <!-- Valine Comments script -->
    <script>
        var GUEST_INFO = ['nick','mail','link'];
        var guest_info = 'nick,mail,link'.split(',').filter(function(item){
          return GUEST_INFO.indexOf(item) > -1
        });
        new Valine({
            el: '#comments',
            notify: 'false' == 'true',
            verify: 'false' == 'true',
            appId: "5PSlFbHUS2S5raMdDvNpy2NQ-gzGzoHsz",
            appKey: "nCO1l5gwuu3sN0FdViygh7Fp",
            avatar: "mm",
            placeholder: "Just go go",
            guest_info: guest_info.length == 0 ? GUEST_INFO : guest_info,
            pageSize: "10"
        })
    </script>
    <!-- Valine Comments end -->







</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        赏个糖吃吧~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.jpg" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/wechat.jpg" data-alipay="/img/alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>博客内容遵循 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>HanKin &copy; 2015 - 2019</span>
            <span>
                
                <a href="http://www.miitbeian.gov.cn/" target="_blank">渝ICP备1314520号-1</a><br>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://hankin2015.github.io/2222/11/10/22221110DataProcess_HJ/&title=《数据处理常用基础操作(清洗、可视化、特征工程)[置顶]》 — HanKin的博客&pic=https://hankin2015.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://hankin2015.github.io/2222/11/10/22221110DataProcess_HJ/&title=《数据处理常用基础操作(清洗、可视化、特征工程)[置顶]》 — HanKin的博客&source=
                
                    
                    
                
..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://hankin2015.github.io/2222/11/10/22221110DataProcess_HJ/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《数据处理常用基础操作(清洗、可视化、特征工程)[置顶]》 — HanKin的博客&url=https://hankin2015.github.io/2222/11/10/22221110DataProcess_HJ/&via=https://hankin2015.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://hankin2015.github.io/2222/11/10/22221110DataProcess_HJ/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=https://hankin2015.github.io/2222/11/10/22221110DataProcess_HJ/" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


lazyScripts.push('//s95.cnzz.com/z_stat.php?id=1274378743&web_id=1274378743')

</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>



<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" async></script>




<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '死鬼去哪里了！';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)咦!又好了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
